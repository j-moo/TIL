# PEP 8 파이썬 스타일 가이드 정리 (요약 포함)

> 목적: **가독성**, **일관성**, **협업 효율**을 높이기 위한 파이썬 공식 코딩 스타일 가이드.

---

## 1) 들여쓰기 (Indentation)
**요약:** 들여쓰기는 “코드 구조”를 보여주는 핵심 규칙이며, 파이썬에서는 문법 그 자체다.

- 기본 들여쓰기: **스페이스 4칸**
- 탭(tab) 대신 스페이스 권장(혼용 금지)
- 여러 줄(줄바꿈) 표현 시:
  - 괄호 `()[]{}` 안에서 줄바꿈을 활용하거나
  - 줄바꿈 후 다음 줄을 **가독성 있게 정렬**(hanging indent/시각적 정렬)

```python
# Good
if condition:
    do_something()

# 괄호 기반 줄바꿈(권장)
result = (
    long_function_name(arg1, arg2, arg3)
    + another_function(arg4)
)
```

---

## 2) 한 줄 길이 (Line length)
**요약:** 너무 긴 줄은 읽기 어려우므로 제한을 두고, 줄바꿈은 “의미 단위”로 한다.

- 코드: **최대 79자** 권장
- 주석/Docstring: **72자** 권장
- 긴 줄은 `\`(백슬래시)보다 **괄호 기반 줄바꿈**을 우선 사용

```python
# Good
message = (
    "This is a long message that is split "
    "across multiple lines for readability."
)
```

---

## 3) 공백 (Whitespace)
**요약:** 공백은 “읽기 쉬운 코드”를 만드는 가장 쉬운 장치다. 규칙적으로 사용한다.

### 3-1. 연산자 주변 공백
- 대입/산술/비교 연산자 주변: 공백 1칸
- 단, **키워드 인자 기본값**의 `=`는 공백 없이

```python
x = 1
y = x + 2
if x == y:
    pass

def f(a, b=0):
    return a + b
```

### 3-2. 괄호/인덱싱 내부 공백 금지
```python
# Bad
spam( ham[ 1 ], { eggs: 2 } )

# Good
spam(ham[1], {eggs: 2})
```

### 3-3. 쉼표 뒤 공백
```python
items = [1, 2, 3]
```

### 3-4. 콜론/슬라이스 주변
- 딕셔너리 키-값 콜론 뒤 공백: `{key: value}`
- 슬라이스는 양옆 공백을 **지양**
```python
data = {"a": 1, "b": 2}
sliced = seq[1:10:2]
```

---

## 4) 빈 줄 (Blank lines)
**요약:** 빈 줄은 “문맥 전환”을 보여준다. 과도하지 않게, 구분이 필요한 곳에 쓴다.

- 최상위(모듈 레벨) 함수/클래스 정의 사이: **2줄**
- 클래스 내부 메서드 정의 사이: **1줄**
- 관련 코드 블록 구분을 위해 적절히 사용(논리적 단락 분리)

---

## 5) 임포트 (Imports)
**요약:** 임포트는 의존성과 파일 구조를 드러낸다. 정렬 규칙이 지켜지면 협업이 쉬워진다.

- 파일 상단에 배치
- **한 줄에 하나**
- 순서 권장:
  1) 표준 라이브러리  
  2) 서드파티  
  3) 로컬(프로젝트)  
- `from x import *`(와일드카드) 지양(이름 충돌/추적 어려움)

```python
import os
import sys

import requests

from my_app import utils
```

---

## 6) 문자열 따옴표 (Quotes)
**요약:** 작은따옴표/큰따옴표는 “정답”이 아니라 “일관성”이 중요하다.

- 프로젝트 내 한 방식으로 통일(예: 모두 `'...'` 또는 `"..."`)
- 문자열 안에 따옴표가 포함되면 이스케이프가 적은 방식 선택

```python
text = "He said 'hello'."
```

---

## 7) 네이밍 규칙 (Naming conventions)
**요약:** 이름은 곧 문서다. 역할과 스코프가 드러나게 짓는다.

- 패키지/모듈: `lowercase` (필요 시 `_`)
- 클래스: `CapWords`(PascalCase)
- 함수/변수: `snake_case`
- 상수: `UPPER_SNAKE_CASE`
- 내부용(비공개 의도): `_leading_underscore`
- 예약어와 충돌 시: `name_` (뒤에 underscore)
- “특수 목적” 메서드: `__init__` 같은 **dunder**는 관례대로 사용

```python
class OrderManager:
    MAX_RETRIES = 3

    def fetch_order(self, order_id):
        ...
```

---

## 8) 주석 (Comments)
**요약:** 주석은 “왜(why)”를 설명할 때 가장 가치가 있다. 코드와 불일치하면 해롭다.

- 코드와 모순되는 주석은 삭제/수정(최우선)
- 필요한 경우에만 인라인 주석 사용(앞에 최소 2칸)
- 문장형 주석: 대문자 시작, 필요 시 마침표

```python
x += 1  # Increment x to move to the next index.
```

---

## 9) Docstring (문서 문자열)
**요약:** Docstring은 “사용법”과 “의도”를 남기는 공식 문서다(특히 공개 API).

- 모듈/클래스/함수에 권장
- 삼중 따옴표 `"""` 사용
- 한 줄 docstring: 한 줄로 끝내기
- 여러 줄 docstring: 요약 1줄 + 빈 줄 + 상세 설명

```python
def add(a, b):
    """Return the sum of a and b."""
    return a + b
```

---

## 10) 후행 쉼표 (Trailing comma)
**요약:** 여러 줄 나열에서 후행 쉼표는 diff를 깔끔하게 하고, 항목 추가/삭제를 안전하게 만든다.

- 여러 줄 리스트/튜플/딕트/함수 인자 나열에서 권장

```python
items = [
    "apple",
    "banana",
    "cherry",
]
```

---

## 11) 비교/조건식 스타일
**요약:** 파이썬다운 조건식은 간결하고 명확하다. 특히 `None` 비교는 규칙이 있다.

- `None` 비교: `==` 대신 **`is` / `is not`**
- 불리언 비교는 직접 비교보다 진릿값 자체를 활용
  - `if x is True:` 지양 → `if x:`

```python
if value is None:
    handle_missing()

if enabled:
    run()
```

---

## 12) 예외 처리 (Exceptions)
**요약:** 예외 처리는 “실패를 통제”하는 장치다. 너무 넓게 잡으면 버그를 숨긴다.

- `except:` 또는 `except Exception:` 남용 지양
- 가능한 한 **구체적 예외**를 잡기
- try 블록 범위를 최소화(필요한 코드만 감싸기)

```python
try:
    number = int(text)
except ValueError:
    number = 0
```

---

## 13) 권장 도구 (자동 포매팅/린팅)
**요약:** 규칙을 “사람”이 계속 지키기 어렵다. 도구로 자동화하는 게 표준이다.

- **Black**: 자동 포매터(스타일 결정 강제 → 팀 컨벤션 통일에 유리)
- **Ruff / Flake8**: 린터(규칙 위반/잠재 버그 탐지)
- **isort**: 임포트 정렬
- **mypy**: 타입 검사(선택이지만 대규모 프로젝트에 유리)

---

## 빠른 체크리스트
- [ ] 들여쓰기 4칸(스페이스)  
- [ ] 한 줄 79자(주석/Docstring 72자)  
- [ ] 임포트 순서: 표준 → 서드파티 → 로컬  
- [ ] 네이밍: 함수/변수 snake_case, 클래스 PascalCase, 상수 UPPER_SNAKE_CASE  
- [ ] `None` 비교는 `is`  
- [ ] 예외는 구체적으로, try 범위는 최소로  
- [ ] Black/Ruff/isort 등으로 자동화  

---

### 참고
- “PEP 8”은 **가이드**이며, 프로젝트/팀 규칙(예: Black 적용 여부)이 더 우선될 수 있다.
